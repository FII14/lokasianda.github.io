<!DOCTYPE html>
<html>
<head>
  <title>Akses Lokasi dan Simpan File</title>
  <script>
    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition, showError);
      } else {
        console.log('Geolocation tidak didukung di browser ini.');
      }
    }

    function showPosition(position) {
      var latitude = position.coords.latitude;
      var longitude = position.coords.longitude;
      console.log('Latitude:', latitude);
      console.log('Longitude:', longitude);

      // Kirim data lokasi ke server menggunakan XMLHttpRequest atau fetch API
      var xhr = new XMLHttpRequest();
      xhr.open('POST', 'save_location.php', true);
      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
      xhr.onreadystatechange = function() {
        if (xhr.readyState === 4 && xhr.status === 200) {
          console.log('Lokasi disimpan ke file server.');
        }
      };
      xhr.send('latitude=' + latitude + '&longitude=' + longitude);
    }

    function showError(error) {
      switch (error.code) {
        case error.PERMISSION_DENIED:
          console.log('Akses lokasi ditolak oleh pengguna.');
          break;
        case error.POSITION_UNAVAILABLE:
          console.log('Informasi lokasi tidak tersedia.');
          break;
        case error.TIMEOUT:
          console.log('Waktu permintaan lokasi habis.');
          break;
        case error.UNKNOWN_ERROR:
          console.log('Terjadi kesalahan yang tidak diketahui.');
          break;
      }
    }
  </script>
</head>
<body>
  <h1>Akses Lokasi dan Simpan File</h1>
  <button onclick="getLocation()">Dapatkan Lokasi dan Simpan File</button>
</body>
</html>
